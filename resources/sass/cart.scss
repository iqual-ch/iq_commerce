@import 'definitions';

// Cart on Checkout - /cart

// Empty cart
.cart-empty-page {
  max-width: 1140px;
  margin-left: auto;
  margin-right: auto;
  padding: 60px 15px;
}

// Cart styles
.cart {
  max-width: 1140px;
  margin-left: auto;
  margin-right: auto;
  padding: 60px 15px;

  .view-commerce-cart-form {
    .views-form {
      width: 100%;

      // Set paddings to Intro text
      form {
        >*:not(div) {
          padding-left: 15px;
          padding-right: 15px;
        }
      }

      // Table styles
      .table {
        margin-top: 30px;
        margin-bottom: 0;
        font-size: $font-size-standard;

        // General tr and td styles
        tr {
          display: grid;
          grid-template-rows: auto;
          grid-template-columns: 115px auto;
          padding: 15px 0;
          background: none;
          border-bottom: 1px solid $border-color-base;

          @media screen and (min-width: 425px) {
            grid-template-columns: 115px auto 40px;
          }

          @media screen and (min-width: 768px) {
            display: table-row;
            padding: 0;
          }

          th,
          td {
            padding: 0;
            background: none;
            color: inherit;
            border: none;

            @media screen and (min-width: 768px) {
              display: table-cell;
              padding: 15px;
            }

            &:first-of-type {
              padding-left: 0;
            }

            &:last-of-type {
              padding-right: 0;
            }
          }
        }

        // Table Header overrides
        thead {
          display: none;

          @media screen and (min-width: 768px) {
            display: table-header-group;
          }
        }

        // Table body overrides
        tbody {
          tr {
            &:first-of-type {
              border-top: 1px solid $border-color-base;

              @media screen and (min-width: 768px) {
                border-top: 0;
              }
            }
          }
        }

        // Fields
        // Image
        .views-field-field-iq-commerce-images {
          grid-column: 1;
          grid-row-start: 1;
          grid-row-end: 4;
        }

        // Purchased entity
        .views-field-purchased-entity {
          width: 100%;
          grid-column: 2;
          grid-row: 1;

          .field--name-product-id {
            margin: 0;
          }

          .field--name-attribute-color {
            margin-bottom: 15px;
          }
        }

        // Total price
        .views-field-total-price__number {
          grid-column: 2;
          grid-row: 2;
          margin-bottom: 15px;

          @media screen and (min-width: 768px) {
            margin-bottom: 0;
            text-align: right;
          }
        }

        // Quantity
        .views-field-edit-quantity {
          grid-column: 2;
          grid-row: 3;

          .item-update {
            display: flex;
            justify-content: space-between;
            padding-right: 15px;

            .quantity-edit-input {
              width: 40px;
              height: 40px;
              line-height: 40px;
              padding: 0;
              border: 0;
              margin: 0 10px;
              text-align: center;
              box-shadow: none;
              outline: 0;
              border-radius: 0;
              transition: $transition-default;
              background-color: $color-grey5;
              color: $color-grey3;
              transition: $transition-default;

              &::-webkit-outer-spin-button,
              &::-webkit-inner-spin-button {
                -webkit-appearance: none;
                margin: 0;
              }

              &[type=number] {
                -moz-appearance: textfield;
              }
            }

            .add-one,
            .remove-one {
              font-size: 10px;
              border: 1px solid $color-grey5;
              background-color: $color-white;
              height: 40px;
              width: 40px;
              text-align: center;
              cursor: pointer;
              outline: 0;
              transition: $transition-default;

              &:hover,
              &:focus {
                border: 1px solid $color-grey4;
              }

              i {
                color: $color-grey3;
              }
            }
          }
        }

        // Remove button
        .views-field-remove-button {
          grid-row: 4;
          grid-column: 2;
          margin-top: 15px;

          @media screen and (min-width: 425px) {
            grid-row-start: 1;
            grid-row-end: 4;
            grid-column: 3;
            margin-top: 0;
            text-align: right;
          }

          .delete-order-item {
            display: inline-block;
            width: 30px;
            padding: 0;
            margin: 0;
            background: none;
            border: none;
            background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg version='1.1' focusable='false' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 416 700' style='enable-background:new 0 0 416 700;' xml:space='preserve'%3E%3Cpath class='st0' fill='%23999999' d='M248.9,498.6h22.3c6.2,0,11.1-5,11.1-11.1V286.9c0-6.2-5-11.1-11.1-11.1h-22.3c-6.2,0-11.1,5-11.1,11.1v200.6 C237.7,493.6,242.7,498.6,248.9,498.6z M401.1,186.6h-76.5L293,133.9c-8.1-13.4-22.6-21.6-38.2-21.6h-93.6 c-15.7,0-30.2,8.2-38.2,21.6l-31.6,52.6H14.9c-8.2,0-14.9,6.7-14.9,14.9v14.9c0,8.2,6.7,14.9,14.9,14.9h14.9v312 c0,24.6,20,44.6,44.6,44.6l0,0h267.4c24.6,0,44.6-20,44.6-44.6l0,0v-312h14.9c8.2,0,14.9-6.7,14.9-14.9v-14.9 C416,193.2,409.3,186.6,401.1,186.6z M159.6,159.6c1-1.7,2.8-2.7,4.8-2.7h87.3c2,0,3.8,1,4.8,2.7l16.2,27H143.4L159.6,159.6z M341.7,543.1H74.3v-312h267.4V543.1z M144.9,498.6h22.3c6.2,0,11.1-5,11.1-11.1V286.9c0-6.2-5-11.1-11.1-11.1h-22.3 c-6.2,0-11.1,5-11.1,11.1v200.6C133.7,493.6,138.7,498.6,144.9,498.6z'/%3E%3C/svg%3E%0A");
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            color: $color-grey3;
            font-family: "Font Awesome 5 Free";
            font-size: 0;
            font-weight: 900;
            line-height: 35px;
            font-style: normal;
            font-variant: normal;
            text-rendering: auto;
            text-align: center;
            cursor: pointer;
            -moz-osx-font-smoothing: grayscale;
            -webkit-font-smoothing: antialiased;
          }
        }
      }

      [data-drupal-selector="order-total-summary"] {
        padding: 15px 0;
      }

      .order-total-line {
        padding: 0 15px;

        .order-total-line-value {
          width: 120px;

          @media only screen and (min-width: 1200px) {
            width: 140px;
          }
        }
      }

      .form-actions {
        padding: 15px;
        display: flex;
        flex-direction: column;

        @media only screen and (min-width: 768px) {
          flex-direction: row;
          padding: 15px 0;
        }

        .btn-primary {
          margin: 15px 0;

          @media only screen and (min-width: 768px) {
            margin: 0 15px;
          }

          &[data-drupal-selector="edit-submit"] {
            background-color: $color-grey4;
            border: $border-width-base solid $border-color-base;
            font-weight: normal;
            width: auto;
          }
        }
      }
    }
  }
}